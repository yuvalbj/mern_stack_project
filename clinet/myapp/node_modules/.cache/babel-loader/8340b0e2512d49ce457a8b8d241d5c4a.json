{"ast":null,"code":"import axios from 'axios';\n\nconst getAllSubscription = () => {\n  return axios.get(\"http://localhost:8000/api/subscriptions\");\n};\n\nconst getSub = id => {\n  return axios.get(\"http://localhost:8000/api/subscriptions/\" + id);\n};\n\nconst addSub = newSub => {\n  return axios.post(\"http://localhost:8000/api/subscriptions\", newSub);\n};\n\nconst getSubsPerMovieID = async (id) => {\n  let resp = await axios.get(\"http://localhost:8000/api/subscriptions\");\n  let allSubs = resp.data;\n  let result = [];\n  let resp1 = await axios.get(\"http://localhost:8000/api/members\");\n  let allMembers = resp1.data;\n  allSubs.forEach(sub => {\n    if (sub.movie_id === id) {\n      allMembers.forEach(mem => {\n        if (mem._id === sub.member_id) {\n          let obj = {\n            id: sub._id,\n            date: sub.date,\n            memName: mem.name\n          };\n          result.push(obj);\n        }\n      }); // result.push(sub)\n    }\n  });\n  return result;\n};\n\nexport default {\n  getAllSubscription,\n  getSubsPerMovieID\n};","map":{"version":3,"sources":["/Users/fundguard/Desktop/Full stack course/HW/Projects/React/clinet/myapp/src/subscriptions/subscriptionUtils.js"],"names":["axios","getAllSubscription","get","getSub","id","addSub","newSub","post","getSubsPerMovieID","resp","allSubs","data","result","resp1","allMembers","forEach","sub","movie_id","mem","_id","member_id","obj","date","memName","name","push"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,kBAAkB,GAAG,MAC3B;AACI,SAAOD,KAAK,CAACE,GAAN,CAAU,yCAAV,CAAP;AACH,CAHD;;AAKA,MAAMC,MAAM,GAAIC,EAAD,IACf;AACI,SAAOJ,KAAK,CAACE,GAAN,CAAU,6CAA6CE,EAAvD,CAAP;AACH,CAHD;;AAMA,MAAMC,MAAM,GAAIC,MAAD,IACf;AACI,SAAON,KAAK,CAACO,IAAN,CAAW,yCAAX,EAAuDD,MAAvD,CAAP;AAEH,CAJD;;AAOA,MAAME,iBAAiB,GAAG,OAAOJ,EAAP,KACxB;AACE,MAAIK,IAAI,GAAG,MAAMT,KAAK,CAACE,GAAN,CAAU,yCAAV,CAAjB;AACA,MAAIQ,OAAO,GAAGD,IAAI,CAACE,IAAnB;AACA,MAAIC,MAAM,GAAG,EAAb;AAEA,MAAIC,KAAK,GAAG,MAAMb,KAAK,CAACE,GAAN,CAAU,mCAAV,CAAlB;AACA,MAAIY,UAAU,GAAGD,KAAK,CAACF,IAAvB;AAEAD,EAAAA,OAAO,CAACK,OAAR,CAAgBC,GAAG,IACjB;AACE,QAAGA,GAAG,CAACC,QAAJ,KAAiBb,EAApB,EACA;AAEGU,MAAAA,UAAU,CAACC,OAAX,CAAmBG,GAAG,IACrB;AACE,YAAGA,GAAG,CAACC,GAAJ,KAAYH,GAAG,CAACI,SAAnB,EACA;AACI,cAAIC,GAAG,GAAG;AAAEjB,YAAAA,EAAE,EAAEY,GAAG,CAACG,GAAV;AAAgBG,YAAAA,IAAI,EAAGN,GAAG,CAACM,IAA3B;AAAkCC,YAAAA,OAAO,EAAEL,GAAG,CAACM;AAA/C,WAAV;AACAZ,UAAAA,MAAM,CAACa,IAAP,CAAYJ,GAAZ;AACH;AACF,OAPF,EAFH,CAWE;AACD;AACF,GAhBH;AAiBC,SAAOT,MAAP;AACA,CA3BL;;AA6BA,eAAe;AAACX,EAAAA,kBAAD;AAAqBO,EAAAA;AAArB,CAAf","sourcesContent":["\nimport axios from 'axios';\n\nconst getAllSubscription = ()=> \n{\n    return axios.get(\"http://localhost:8000/api/subscriptions\");\n}\n\nconst getSub = (id)=> \n{\n    return axios.get(\"http://localhost:8000/api/subscriptions/\" + id);\n}\n\n\nconst addSub = (newSub)=> \n{\n    return axios.post(\"http://localhost:8000/api/subscriptions\" , newSub);\n\n}\n\n\nconst getSubsPerMovieID = async (id) =>\n  {\n    let resp = await axios.get(\"http://localhost:8000/api/subscriptions\");\n    let allSubs = resp.data;\n    let result = [];\n\n    let resp1 = await axios.get(\"http://localhost:8000/api/members\");\n    let allMembers = resp1.data;\n\n    allSubs.forEach(sub => \n      {\n        if(sub.movie_id === id)\n        {\n\n           allMembers.forEach(mem => \n            {\n              if(mem._id === sub.member_id)\n              {\n                  let obj = { id: sub._id , date : sub.date , memName: mem.name}\n                  result.push(obj);\n              }\n            })\n\n          // result.push(sub)\n        }\n      })\n     return result;\n    }\n\nexport default {getAllSubscription, getSubsPerMovieID};\n"]},"metadata":{},"sourceType":"module"}