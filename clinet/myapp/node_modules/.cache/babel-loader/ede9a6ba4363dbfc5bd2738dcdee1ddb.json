{"ast":null,"code":"var _jsxFileName = \"/Users/fundguard/Desktop/Full stack course/HW/Projects/React/clinet/myapp/src/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport MainComp from './MainPage';\nimport userBL from './userUtils';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginComp() {\n  _s();\n\n  const [userName, setUserName] = useState('');\n  const [userPwd, setUserPwd] = useState('');\n  const [isAllowed, setIsAllowed] = useState({});\n\n  const checkLogin = async (e) => {\n    e.preventDefault();\n    let result = await userBL.getAllUsers();\n    let allUsers = result.data;\n    console.log(allUsers);\n    let user = allUsers.filter(usr => usr.username === userName && usr.password === userPwd);\n\n    if (user.length >= 0) {\n      console.log(user.full_name);\n    } else {\n      alert(\"wrong!\");\n    } // let result =  userBL.isAllowedToLogin(userName, userPwd);\n    // setIsAllowed(result);\n    // console.log(isAllowed);\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Movies Subscriptions Web Site !!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => checkLogin(e),\n      children: [\"User Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setUserName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 14\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 80\n      }, this), \"Password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setUserPwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 78\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main\",\n        component: MainComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginComp, \"CPv1428qesGNxRrdeB9MWkP+Oog=\");\n\n_c = LoginComp;\nexport default LoginComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginComp\");","map":{"version":3,"sources":["/Users/fundguard/Desktop/Full stack course/HW/Projects/React/clinet/myapp/src/LoginPage.js"],"names":["Switch","Route","Link","MainComp","userBL","useEffect","useState","LoginComp","userName","setUserName","userPwd","setUserPwd","isAllowed","setIsAllowed","checkLogin","e","preventDefault","result","getAllUsers","allUsers","data","console","log","user","filter","usr","username","password","length","full_name","alert","target","value"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAAQA,MAAR,EAAgBC,KAAhB,EAAuBC,IAAvB,QAAkC,kBAAlC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;AAEA,SAASC,SAAT,GAAqB;AAAA;;AACnB,QAAM,CAACC,QAAD,EAAYC,WAAZ,IAA2BH,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACI,OAAD,EAAWC,UAAX,IAAyBL,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;;AACA,QAAMQ,UAAU,GAAG,OAAOC,CAAP,KACnB;AACEA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,MAAM,GAAG,MAAMb,MAAM,CAACc,WAAP,EAAnB;AACA,QAAIC,QAAQ,GAAGF,MAAM,CAACG,IAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,QAAII,IAAI,GAAGJ,QAAQ,CAACK,MAAT,CAAgBC,GAAG,IAAIA,GAAG,CAACC,QAAJ,KAAiBlB,QAAjB,IAA6BiB,GAAG,CAACE,QAAJ,KAAiBjB,OAArE,CAAX;;AACA,QAAGa,IAAI,CAACK,MAAL,IAAe,CAAlB,EACA;AACEP,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACM,SAAjB;AACD,KAHD,MAKA;AACEC,MAAAA,KAAK,CAAC,QAAD,CAAL;AACD,KAdH,CAgBE;AACA;AACA;;AACD,GApBD;;AAsBA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADG,eAEJ;AAAM,MAAA,QAAQ,EAAEf,CAAC,IAAID,UAAU,CAACC,CAAD,CAA/B;AAAA,6CACa;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAEA,CAAC,IAAIN,WAAW,CAACM,CAAC,CAACgB,MAAF,CAASC,KAAV;AAA7C;AAAA;AAAA;AAAA;AAAA,cADb,oBAC+E;AAAA;AAAA;AAAA;AAAA,cAD/E,6BAEY;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAEjB,CAAC,IAAIJ,UAAU,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV;AAA5C;AAAA;AAAA;AAAA;AAAA,cAFZ,oBAE6E;AAAA;AAAA;AAAA;AAAA,cAF7E,eAGI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFI,eASJ,QAAC,MAAD;AAAA,6BACE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAE7B;AAA/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YATI;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD;;GA1CQI,S;;KAAAA,S;AA4CT,eAAeA,SAAf","sourcesContent":["import './App.css';\nimport {Switch, Route, Link} from 'react-router-dom'\nimport MainComp from './MainPage';\nimport userBL from './userUtils';\nimport { useEffect, useState } from \"react\";\n \nfunction LoginComp() {\n  const [userName , setUserName] = useState('');\n  const [userPwd , setUserPwd] = useState('');\n  const [isAllowed, setIsAllowed] = useState({})\n  const checkLogin = async (e) => \n  {\n    e.preventDefault();\n\n    let result = await userBL.getAllUsers();\n    let allUsers = result.data;\n    console.log(allUsers)\n    let user = allUsers.filter(usr => usr.username === userName && usr.password === userPwd);\n    if(user.length >= 0)\n    {\n      console.log(user.full_name)\n    } \n    else\n    {\n      alert(\"wrong!\")\n    }\n\n    // let result =  userBL.isAllowedToLogin(userName, userPwd);\n    // setIsAllowed(result);\n    // console.log(isAllowed);\n  }\n\n  return (\n    <div className=\"App\">\n <h1>Movies Subscriptions Web Site !!</h1>\n<form onSubmit={e => checkLogin(e)}>\n  User Name: <input type=\"text\" onChange={e => setUserName(e.target.value)} /> <br/>\n  Password: <input type=\"text\" onChange={e => setUserPwd(e.target.value)} /> <br/>\n    <input type=\"submit\" value=\"Login\" />\n</form>\n\n\n<Switch>\n  <Route path=\"/main\" component={MainComp} />\n\n</Switch>\n    </div>\n  );\n}\n\nexport default LoginComp;\n"]},"metadata":{},"sourceType":"module"}